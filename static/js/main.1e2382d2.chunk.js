(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(16),i=n.n(r),o=(n(22),n(23),n(3)),s=n(17),l=n(7),d=n.n(l),m=(n(42),n.p+"static/media/refresh.9c0da300.jpg"),u=n.p+"static/media/sunny.469a1d1b.gif",h=n(0),f=function(){var e="CWB-52F9DCE3-BDF3-49E6-81A5-32A4AFDC7460",t=Object(a.useState)({locationName:"",temp:"",humd:"",chanceOfRain:"",description:""}),n=Object(s.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){i(),l()}),[]);var i=function(){console.log("fetch current weather");var t="https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization=".concat(e);d.a.get(t).then((function(e){var t=e.data.records.location.find((function(e){return"\u6de1\u6c34"===e.locationName})),n=parseFloat(t.weatherElement.find((function(e){return"TEMP"===e.elementName})).elementValue),a=100*parseFloat(t.weatherElement.find((function(e){return"HUMD"===e.elementName})).elementValue);r((function(e){return Object(o.a)(Object(o.a)({},e),{},{locationName:"\u6de1\u6c34",temp:n,humd:a})}))})).catch((function(e){console.log("Error:",e)}))},l=function(){console.log("fetch weather prediction");var t="https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=".concat(e);d.a.get(t).then((function(e){var t=e.data.records.location.find((function(e){return"\u65b0\u5317\u5e02"===e.locationName})),n=t.weatherElement.find((function(e){return"Wx"===e.elementName})).time[0].parameter.parameterName,a=t.weatherElement.find((function(e){return"PoP"===e.elementName})).time[0].parameter.parameterName;r((function(e){return Object(o.a)(Object(o.a)({},e),{},{description:n,chanceOfRain:a})}))})).catch((function(e){console.log(e)}))};return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("h3",{children:c.locationName}),Object(h.jsx)("div",{children:c.description}),Object(h.jsxs)("div",{className:"main",children:[Object(h.jsxs)("div",{className:"temp",children:[c.temp,Object(h.jsx)("span",{children:"\xb0C"})]}),Object(h.jsx)("img",{src:u,alt:"sunny",className:"sunny"})]}),Object(h.jsxs)("div",{className:"weatherElement",children:[Object(h.jsxs)("div",{children:["\u76f8\u5c0d\u6ebc\u5ea6: ",c.humd,"%"]}),Object(h.jsxs)("div",{children:["\u964d\u96e8\u6a5f\u7387: ",c.chanceOfRain,"%"]})]}),Object(h.jsx)("div",{className:"refresh",onClick:function(){i(),l()},children:Object(h.jsx)("img",{src:m,alt:"refresh",className:"refreshIcon"})})]})};var j=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(f,{})})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(j,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.1e2382d2.chunk.js.map