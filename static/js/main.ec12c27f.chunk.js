(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(18),i=n.n(c),s=(n(24),n(25),n(6)),m=n.n(s),o=n(9),u=n(19),d=n(8),l=n(7),p=n.n(l),f=(n(45),n.p+"static/media/refresh.9c0da300.jpg"),h=n.p+"static/media/sunny.469a1d1b.gif",j=n.p+"static/media/ranny.3514cb41.gif",N=n(0),b=function(){var e="CWB-52F9DCE3-BDF3-49E6-81A5-32A4AFDC7460",t=Object(a.useState)({locationName:"NaN",temp:"0",humd:"0",chanceOfRain:"0",description:"NaN",maxT:"",minT:""}),n=Object(d.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i(),s()]);case 2:t=e.sent,n=Object(d.a)(t,2),a=n[0],r=n[1],"NaN"===a.temp&&(a.temp="".concat(r.minT,"~").concat(r.maxT)),c(Object(o.a)(Object(o.a)({},a),r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=function(){var t="https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization=".concat(e);return p.a.get(t).then((function(e){var t=e.data.records.location.find((function(e){return"\u6de1\u6c34"===e.locationName})),n=parseFloat(t.weatherElement.find((function(e){return"TEMP"===e.elementName})).elementValue),a=100*parseFloat(t.weatherElement.find((function(e){return"HUMD"===e.elementName})).elementValue);return{locationName:"\u6de1\u6c34",temp:n=n<-50?"NaN":n,humd:a=a<-50?"NaN":a}}))},s=function(){var t="https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=".concat(e);return p.a.get(t).then((function(e){var t=e.data.records.location.find((function(e){return"\u65b0\u5317\u5e02"===e.locationName}));return{description:t.weatherElement.find((function(e){return"Wx"===e.elementName})).time[0].parameter.parameterName,chanceOfRain:t.weatherElement.find((function(e){return"PoP"===e.elementName})).time[0].parameter.parameterName,maxT:t.weatherElement.find((function(e){return"MaxT"===e.elementName})).time[0].parameter.parameterName,minT:t.weatherElement.find((function(e){return"MinT"===e.elementName})).time[0].parameter.parameterName}}))};return Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("h3",{children:r.locationName}),Object(N.jsx)("div",{children:r.description}),Object(N.jsxs)("div",{className:"main",children:[Object(N.jsxs)("div",{className:"temp",children:[r.temp,Object(N.jsx)("span",{children:"\xb0C"})]}),Object(N.jsx)("img",{src:function(){var e=r.description;return!(!e.includes("\u96e8")&&!e.includes("\u9670"))}?j:h,alt:"weather icon",className:"weatherIcon"})]}),Object(N.jsxs)("div",{className:"weatherElement",children:[Object(N.jsxs)("div",{children:["\u76f8\u5c0d\u6ebc\u5ea6: ",r.humd,"%"]}),Object(N.jsxs)("div",{children:["\u964d\u96e8\u6a5f\u7387: ",r.chanceOfRain,"%"]})]}),Object(N.jsx)("div",{className:"refresh",onClick:function(){i(),s()},children:Object(N.jsx)("img",{src:f,alt:"refresh",className:"refreshIcon"})})]})};var O=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(b,{})})};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(O,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ec12c27f.chunk.js.map